<!DOCTYPE html>
<html lang="en">
<div id="header"></div>
<body>
        <div id="root">
                <div id="container">
                        <nav id="sidebar">
                                <div class="sidebar-container">
                                        <div class="search-box">
                                                <div class="search-icon">
                                                        <i class="fa-solid fa-magnifying-glass"></i>
                                                </div>
                                                <input type="text" class="search-input-text" placeholder="Search for ...">
                                        </div>
                                        <nav id="sidebar-list" class="sidebar-list">
                                                <!-- Các mục sidebar sẽ được thêm động tại đây -->
                                        </nav>
                                        <hr class="sidebar-separator">
                                        <nav id="manage-list">
                                                
                                                <a href="/admin/pages/setting" class="sidebar-item">
                                                        <div class="sidebar-item-icon">
                                                                <i class="fa-solid fa-gear"></i>
                                                        </div>
                                                        <span class="sidebar-item-name">Settings</span>
                                                </a>
                                        </nav>
                                </div>
                        </nav>
                        <main id="dynamic-data">
                                <!-- Nội dung sẽ được tải động vào đây -->
                        </main>
                </div>

        </div>

        <script>
                console.log("Version 1.0.6");
        </script>   

        <script>
                document.addEventListener("DOMContentLoaded", function() {
                        // Get the link to the settings page
                        const settingsLink = document.querySelector('a[href="/admin/pages/setting"]');

                        // Add an event listener to the link
                        settingsLink.addEventListener('click', function(event) {
                                event.preventDefault(); // Prevent the default link behavior

                                // Fetch the settings page content
                                loadContent("http://localhost:8081/admin/pages/setting.html"); 
                        });

                        // Function to load content dynamically
                        function loadContent(url) {
                                console.log(url);
                                fetch(url)
                                        .then(response => {
                                                if (!response.ok) {
                                                        throw new Error(`Failed to fetch page: ${response.status}`);
                                                }
                                                return response.text();
                                        })
                                        .then(html => {
                                                // Insert the HTML into the dynamic-data element
                                                const dynamicDataElement = document.getElementById('dynamic-data');
                                                dynamicDataElement.innerHTML = html;
                                        })
                                        .catch(error => {
                                                console.error('Error loading content', error);
                                        });
                        }       
                });
        </script>

        <script src="../static/js/layout.js"></script>
        <script type="module" src="./services/apiService.js"></script>
        <script type="text/javascript" src="/static/js/loadTitle.js"></script>
        <script type="text/javascript" src="./services/config.js"></script>
</body>
</html>
